function stripeTokenHandler(e){var t=document.getElementById("stripe-form"),r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","stripeToken"),r.setAttribute("value",e.id),t.appendChild(r),t.submit()}var stripe=Stripe(window.stripe_publishable_key),elements=stripe.elements(),card=elements.create("card");card.mount("#card-element"),card.addEventListener("change",function(e){var t=document.getElementById("card-errors");e.error?t.textContent=e.error.message:t.textContent=""});var form=document.getElementById("stripe-form");form.addEventListener("submit",function(e){e.preventDefault(),stripe.createToken(card).then(function(e){e.error?document.getElementById("card-errors").textContent=e.error.message:stripeTokenHandler(e.token)})});